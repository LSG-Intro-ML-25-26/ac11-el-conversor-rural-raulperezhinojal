<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="fUI_D]h0drnlG|=WcR_K">nena</variable><variable type="KIND_SpriteKind" id="tT}zE=Um8LpTONFtqFj|">Player</variable><variable type="KIND_SpriteKind" id="%Y(XxD%IjK,[Av7hmfz7">Projectile</variable><variable type="KIND_SpriteKind" id="/Q.+[@0lskD+%uf:ftC:">Food</variable><variable type="KIND_SpriteKind" id="@t@HTY*?je.Ls(iul#DF">Enemy</variable></variables><block type="pxt-on-start" id="SUs4?p8Io%WWrf~P#Q,w" x="0" y="0"><statement name="HANDLER"><block type="gamesetbackgroundcolor" id="b+Cri,ER+$QrvZCuw/va"><comment pinned="false" h="80" w="160">--- 1. CONFIGURACIÓN INICIAL ---</comment><value name="color"><shadow type="colorindexpicker" id="kS#Nb4;)C[)~o+jWc`TA"><field name="index">7</field></shadow></value><next><block type="typescript_statement" id="+xb6a5!mjq7Bl/1q(Rn6"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let KIND_NPC = SpriteKind.create()" numlines="1" declaredvars="KIND_NPC"></mutation></block></next></block></statement></block><block type="keyonevent" id="K,M(.a48PB/5m4^lS8!7" x="382" y="0"><field name="button">controller.up</field><field name="event">ControllerButtonEvent.Pressed</field><comment pinned="false" h="80" w="160">Funciones de animación del profesor</comment><statement name="HANDLER"><block type="run_image_animation" id="S,yZMN121xY{E(u0^!|s"><value name="sprite"><block type="variables_get" id="d!wT:0YFfIY4nAJ#Oap;"><field name="VAR" id="fUI_D]h0drnlG|=WcR_K">nena</field></block></value><value name="frames"><shadow type="animation_editor" id="]/_^L$e*%?y~]ogz9J_Q"><field name="frames">assets.animation`nena-animation-up`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim3"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="_Q(1r^BM-Mzi@R9uYW(#"><field name="ms">500</field></shadow></value><value name="loop"><shadow type="toggleOnOff" id="}F6r!nqhHJwzmE$klRs~"><field name="on">false</field></shadow></value></block></statement></block><block type="keyonevent" id="2?![]i[^ZGQy6L{wQ85^" x="716" y="0"><field name="button">controller.left</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="run_image_animation" id="l{7Hq=8^yBs%DWIT8O6Q"><value name="sprite"><block type="variables_get" id="RCK]xDqAq)wKh$qfE8f["><field name="VAR" id="fUI_D]h0drnlG|=WcR_K">nena</field></block></value><value name="frames"><shadow type="animation_editor" id="V2mA1m^nuPKiv^KIb5w~"><field name="frames">assets.animation`nena-animation-left`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim2"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="vg5P#^)#%N%yZoXpRe8N"><field name="ms">500</field></shadow></value><value name="loop"><shadow type="toggleOnOff" id="Q3n/FmB7gFH-Mcpa:409"><field name="on">false</field></shadow></value></block></statement></block><block type="keyonevent" id="]P{yjLt{BbnOY|.$@M|/" x="1043" y="0"><field name="button">controller.down</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="run_image_animation" id="TWpf3X~8s5r4~q%mqCeX"><value name="sprite"><block type="variables_get" id="BVn-YqnYkwnY|+-#74_l"><field name="VAR" id="fUI_D]h0drnlG|=WcR_K">nena</field></block></value><value name="frames"><shadow type="animation_editor" id="qSO?:V9~28NvZChKtF??"><field name="frames">assets.animation`nena-animation-down`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim1"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="F0z8CnH+[C[1i[-tVX--"><field name="ms">500</field></shadow></value><value name="loop"><shadow type="toggleOnOff" id=".wH|nsXGoGnpTU[}-gOM"><field name="on">false</field></shadow></value></block></statement></block><block type="keyonevent" id="5GTf.vnq5:OhA)cTD:*O" x="1370" y="0"><field name="button">controller.right</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="run_image_animation" id=",/awY2eMZfV(X]g0-]29"><value name="sprite"><block type="variables_get" id="RkgpyU~iSz|pa?eybR#e"><field name="VAR" id="fUI_D]h0drnlG|=WcR_K">nena</field></block></value><value name="frames"><shadow type="animation_editor" id="6u`~{a7m4R{*Q,9.$aj6"><field name="frames">assets.animation`nena-animation-right`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim4"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id=";XBZb]NmTCz9m79E4R*I"><field name="ms">500</field></shadow></value><value name="loop"><shadow type="toggleOnOff" id="iIU)^,zMHd=T)*/5Y$C7"><field name="on">false</field></shadow></value></block></statement></block><block type="spritesoverlap" id="[jaNB=[KE}S=8#fvkQjI" x="0" y="319"><comment pinned="false" h="80" w="160">--- 6. GESTIÓN DE COLISIONES ---
Usamos KIND_NPC aquí también</comment><value name="HANDLER_DRAG_PARAM_sprite"><block type="argument_reporter_custom" id="c;pLcBw5:*NvmoqeEUfe"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE"></field></block></value><value name="kind"><shadow type="spritekind" id="tzBEuC(^P%;1A%V]ZWx1"><field name="MEMBER">Player</field></shadow></value><value name="HANDLER_DRAG_PARAM_otherSprite"><block type="argument_reporter_custom" id="?L877nB.9w?twh^dAzi8"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE"></field></block></value><value name="otherKind"><shadow type="spritekind" id="SE2{Thb(J4xU+/Z5U1F)"><field name="MEMBER">Player</field></shadow></value><statement name="HANDLER"><block type="controls_if" id="G41H9L9E1!45#JQ~4!*0"><mutation elseif="4"></mutation><value name="IF1"><shadow type="logic_boolean" id="~@360*}_}[8OQehKX2;U"><field name="BOOL">FALSE</field></shadow></value><value name="IF2"><shadow type="logic_boolean" id="N-*pwfk{cbLImijGg`5b"><field name="BOOL">FALSE</field></shadow></value><value name="IF3"><shadow type="logic_boolean" id="w{7b?/cj|H=2DCPx:1gm"><field name="BOOL">FALSE</field></shadow></value><value name="IF4"><shadow type="logic_boolean" id="u@pO}lHw?Kok`|1sbspQ"><field name="BOOL">FALSE</field></shadow></value></block></statement></block><block type="function_definition" id="A4az+oM4fGrPw{*wp}6y" x="649" y="319"><mutation name="calcular_trueque" functionid="Z,2]zpgf1MlwNmJBLk/G"><arg name="tipo_producto" id="elnz0kjc1inzbwv66jtl" type="number"></arg></mutation><field name="function_name">calcular_trueque</field><value name="elnz0kjc1inzbwv66jtl"><block type="argument_reporter_number" id="@|{^.WhbAz/x8J3[Q2tZ"><mutation duplicateondrag="true"></mutation><field name="VALUE">tipo_producto</field></block></value><statement name="STACK"><block type="controls_if" id="d0BU%FL46IgQ[p]mur{8"><mutation elseif="4"></mutation><value name="IF1"><shadow type="logic_boolean" id="8{003`dV/9$#T4O%1,u/"><field name="BOOL">FALSE</field></shadow></value><value name="IF2"><shadow type="logic_boolean" id="BcqzZ({;@A`):n5w{S9-"><field name="BOOL">FALSE</field></shadow></value><value name="IF3"><shadow type="logic_boolean" id="_{jpLSdj0XCV,y!-5Yye"><field name="BOOL">FALSE</field></shadow></value><value name="IF4"><shadow type="logic_boolean" id="~*j~9buc0DO+v:g0F~T="><field name="BOOL">FALSE</field></shadow></value></block></statement></block><block type="function_definition" id="+JK~}:UvB:%yb)FVTi(}" x="1129" y="319"><mutation name="validar_input" functionid="5c?uYgZ,L`=Dclt*`CzN"><arg name="tipo" id="0mbdz2r0nppew2bbmsdzg" type="number"></arg></mutation><field name="function_name">validar_input</field><value name="0mbdz2r0nppew2bbmsdzg"><block type="argument_reporter_number" id="CfQg9XPy:XeEdd5VK]4V"><mutation duplicateondrag="true"></mutation><field name="VALUE">tipo</field></block></value><statement name="STACK"><block type="controls_if" id="q$F,|!2zPy4(V{.1p,Gs"></block></statement></block><block type="function_definition" id="^}#[PP=Cc|HSk~FWlePw" x="1502" y="319"><mutation name="interactuar_con_npc" functionid="kqT$WfBuO7gP$F0s*pX#"><arg name="nombre_producto" id="0fu5plxfhrewnys65zu5" type="string"></arg></mutation><field name="function_name">interactuar_con_npc</field><comment pinned="false" h="80" w="160">--- 4. INTERACCIÓN CON NPCs ---</comment><value name="0fu5plxfhrewnys65zu5"><block type="argument_reporter_string" id="~Y?ObRB(SH6D,A^iGmaB"><mutation duplicateondrag="true"></mutation><field name="VALUE">nombre_producto</field></block></value><statement name="STACK"><block type="game_control_sprite" id="]d[4NAW30U#w=b][6Ppu"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="2" _input_init="true"></mutation><value name="vx"><shadow type="spriteSpeedPicker" id="|6VLSR6BxP5H.hfZ2hSS"><field name="speed">100</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="*|672Fo=KV~]sIn9g+5-"><field name="speed">100</field></shadow></value></block></statement></block></xml>